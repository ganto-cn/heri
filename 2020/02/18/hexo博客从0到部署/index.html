<!DOCTYPE html>
<html lang="zh-CN" style = >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="keywords" content="">
    <meta name="description" content="Ganto的个人博客">
    <title>hexo博客从0到部署</title>
    <link rel="icon" href="/images/g.png">
    <script src="/lib/jquery.js"></script>
    
    <!-- animate.css IN -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <!-- animate.css OUT -->

    <!-- highlight.js IN -->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.4.1/styles/androidstudio.min.css">
    <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.4.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!-- highlight.js OUT -->
    
    <!-- fancybox IN -->
    <link rel="stylesheet" href="/lib/jquery.fancybox.min.css">
    <script src="/lib/jquery.fancybox.min.js"></script>
    <script>
        $(function(){
            $("figure").addClass("hljs");
            $("section img").each(function(){
                $(this).wrap("<a data-fancybox='images' href='"+ $(this).attr('src') +"'>");
            })
        })
    </script>
    <!-- fancybox OUT -->
    
    <!-- BaiDuTongJi -->
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?e9903012f74ea3f7bb149b43c92a2a8c";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
    </script>
        

    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>
<body>
    <header>
    <nav>
        <div class="name animate__animated animate__zoomInDown">
            <span class="g">
                <a href="/"></a>
                Ganto
            </span>
            <span class="i">但愿可以成为有趣的人</span>
        </div>
    </nav>
</header>
    <section class="animate__animated animate__fadeInLeft">
    <nav>
        <div class="aTitle">
            <p>hexo博客从0到部署</p>
            
                
            
            <i>2020-02-18 13:00:21</i>
        </div>
        <h2 id="第一步：我们首先要安装node-js和git"><a href="#第一步：我们首先要安装node-js和git" class="headerlink" title="第一步：我们首先要安装node.js和git"></a>第一步：我们首先要安装node.js和git</h2><p>因为hexo是基于<code>node.js</code>，所以比较依赖于<code>node.js</code>把md文件生成静态文件html。</p>
<p>我们是利用<code>git</code>进行对hexo项目操作的，包括把文章部署到码云/github。</p>
<p>所以首先要安装<code>node.js</code>、<code>git</code></p>
<h2 id="第二步：安装并生成hexo默认文件"><a href="#第二步：安装并生成hexo默认文件" class="headerlink" title="第二步：安装并生成hexo默认文件"></a>第二步：安装并生成hexo默认文件</h2><h4 id="1-安装hexo"><a href="#1-安装hexo" class="headerlink" title="1. 安装hexo"></a>1. 安装hexo</h4><p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p>
<p>首先创建一个文件夹为“blog”来存放我们的博客文件，我们右键使用Git Bash Here打开。</p>
<p>直接运行下方代码，使用 npm进行安装hexo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ npm install hexo-cli -g<br></code></pre></td></tr></table></figure>

<p>安装结束后，我们通过以下命令查看版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ hexo version<br></code></pre></td></tr></table></figure>

<p>如果出现一下文字，则证明安装hexo成功，这里打印出了各种依赖环境的版本号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs plain">hexo-cli: 3.1.0<br>os: Windows_NT 10.0.18363 win32 x64<br>node: 12.14.1<br>v8: 7.7.299.13-node.16<br>uv: 1.33.1<br>zlib: 1.2.11<br>brotli: 1.0.7<br>ares: 1.15.0<br>modules: 72<br>nghttp2: 1.40.0<br>napi: 5<br>llhttp: 2.0.1<br>http_parser: 2.8.0<br>openssl: 1.1.1d<br>cldr: 35.1<br>icu: 64.2<br>tz: 2019c<br>unicode: 12.1<br></code></pre></td></tr></table></figure>

<h4 id="2-新建所需的文件"><a href="#2-新建所需的文件" class="headerlink" title="2. 新建所需的文件"></a>2. 新建所需的文件</h4><p>安装 Hexo 完成后，执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ hexo init myblog &#x2F;&#x2F; 新建所需要的文件<br>$ cd myblog &#x2F;&#x2F; 进入myblog<br>$ npm install &#x2F;&#x2F; 同步配置文件<br></code></pre></td></tr></table></figure>

<p><strong>注意</strong>：在使用<code>$ hexo init</code>命令的时候有概率会出现配置环境的问题，如果没保存就直接往下运行即可</p>
<p>启动hexo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ hexo server<br></code></pre></td></tr></table></figure>

<p>然后我们就可以使用 localhost:4000 访问了！</p>
<h2 id="第三步：部署到github"><a href="#第三步：部署到github" class="headerlink" title="第三步：部署到github"></a>第三步：部署到github</h2><h4 id="github准备工作"><a href="#github准备工作" class="headerlink" title="github准备工作"></a>github准备工作</h4><p>首先我们需要有一个github账户，自己去注册一个就可以</p>
<p>然后创建一个仓库</p>
<p>创建仓库的时候勾上 <strong><em>Initialize this repository with a README</em></strong></p>
<p>然后进入仓库点击，绿色处<strong>Clone or download</strong>，复制<strong>https</strong>地址，如：<a href="https://github.com/xxxx/xx.git" target="_blank" rel="noopener">https://github.com/xxxx/xx.git</a></p>
<h4 id="配置-config-yml文件"><a href="#配置-config-yml文件" class="headerlink" title="配置_config.yml文件"></a>配置_config.yml文件</h4><p>打开配置文件，拉到最后，找到<strong>deploy</strong>，这样配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plain"># Deployment<br>## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html<br>deploy:<br>  type: git<br>  repo: https:&#x2F;&#x2F;github.com&#x2F;xxxx&#x2F;xx.git<br>  branch: master<br></code></pre></td></tr></table></figure>

<p>如果要同时部署到码云/github，可以这样配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plain"># Deployment<br>## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html<br>deploy:<br>  type: git<br>  repo: <br>    coding: https:&#x2F;&#x2F;gitee.com&#x2F;xxx&#x2F;xxx.git,master<br>    duapp: https:&#x2F;&#x2F;github.com&#x2F;xxx&#x2F;xxx.github.io.git,master<br></code></pre></td></tr></table></figure>

<p>一点要注意规范，<code>type:</code> <code>repo:</code> <code>branch:</code>后一定要空一格</p>
<h4 id="提交代码到github仓库"><a href="#提交代码到github仓库" class="headerlink" title="提交代码到github仓库"></a>提交代码到github仓库</h4><p>首先安装 hexo-deployer-git，这是一个插件包，用于提交代码到<strong>码云</strong> / <strong>github</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ npm install hexo-deployer-git --save<br></code></pre></td></tr></table></figure>

<p>执行成功后，会在文件夹中多出一个<strong>.deploy_git</strong>文件夹</p>
<p>然后执行下面代码提交你的邮箱和用户名（这里指的是你的GitHub邮箱、用户名）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">git config --global user.email “你的邮箱”<br>git config --global user.name “用户名”<br></code></pre></td></tr></table></figure>

<p>接着执行以下命令将代码推送上去</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ hexo clean<br>$ hexo g<br>$ hexo d<br></code></pre></td></tr></table></figure>

<p>也可以这样执行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d<br></code></pre></td></tr></table></figure>

<p>这时会弹出账号/密码框，账号和密码，就是GitHub登录的账号和密码</p>
<p>成功提交代码后，我们会在GitHub仓库看到我们提交的代码</p>
<h2 id="上传到码云仓库"><a href="#上传到码云仓库" class="headerlink" title="上传到码云仓库"></a>上传到码云仓库</h2><p>上传到码云仓库和GitHub仓库，基本一样，可以按照上方操作进行</p>
<p>要注意配置文件中的root:<br>默认是root: /，可能要修改成root: <a href="https://ganto_blog.gitee.io/xxx/" target="_blank" rel="noopener">https://ganto_blog.gitee.io/xxx/</a> 或者 root: /xxx/</p>
<p>因为码云仓库，创建之后，会在一个类似文件夹中，所以配置文件这里需要修改为root: /xxx/</p>
<h2 id="搭建后出现的一系列问题"><a href="#搭建后出现的一系列问题" class="headerlink" title="搭建后出现的一系列问题"></a>搭建后出现的一系列问题</h2><ol>
<li><p>如果你是上传到码云仓库，码云Gitee Pages 普通版，每次提交代码后，都需要手动更新 Pages 服务（重启 Pages 服务），可以免费使用一个月pro版，坑</p>
</li>
<li><p>在博客中有时候加载jQuery包的路径无法访问，我们需要修改jQuery包路径，这个问题好像只有默认landscape主题有,如果真的存在这种问题的话，可以进入themes\landscape\layout_partial，找到after-footer.ejs打开，把引用的包改成其他可以访问的即可，不可以改成http地址包</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">&lt;script src&#x3D;&quot;&#x2F;&#x2F;cdn.bootcss.com&#x2F;jquery&#x2F;3.4.1&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>


        <div class="pagination">
            
        </div>

        
        <div class="criterion">
            <p><strong>本文链接：</strong><a href="https://heri.ganto.cn/2020/02/18/hexo%E5%8D%9A%E5%AE%A2%E4%BB%8E0%E5%88%B0%E9%83%A8%E7%BD%B2/">https://heri.ganto.cn/2020/02/18/hexo%E5%8D%9A%E5%AE%A2%E4%BB%8E0%E5%88%B0%E9%83%A8%E7%BD%B2/</a></p>
            <p><strong>本文更新于：</strong>2021-03-03 23:51:55</p>
            <p><strong>小站声明：</strong>如果你需要“转载”、“引用”小站的文章，可以不需要作者同意，请务必标明出处和文章链接。</p>
        </div>
        <div class="pn">
            
            <a class="left" href="/2020/02/18/%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AEGitHub/">
                <i><</i>
                <span>解决无法访问GitHub</span>
            </a>
            
            
            <a class="right" href="/2020/02/15/%E5%85%B3%E4%BA%8EJavaScript%E4%B8%AD%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E7%9A%84%E6%95%B4%E7%90%86/">
                <span>关于JavaScript中常用方法的整理</span>
                <i>></i>
            </a>
            
        </div>
    </nav>
</section>
    <footer>
    <nav>
        <div class="me animate__animated animate__zoomInUp">
            <span><a title="Hexo" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> 强力驱动</span>
            /
            <span><a title="Heri" href="https://github.com/ganto-cn/hexo-theme-heri" target="_blank" rel="noopener">Heri</a> 主题</span>
        </div>
    </nav>
</footer>
</body>
</html>